btn1 = cui.Button('Set to 100', func(){
	health = game.Frame.Get("Health", game.LocalPlayerEntity)
	change = Quantum.ToFP(100) - health.CurrentHealth
	health.CurrentHealth = Quantum.ToFP(100)
	y = game.Frame.Set("Health", game.LocalPlayerEntity, health)
	
	game.Frame.Signals.OnActorHealthChanged(game.LocalPlayerEntity, health.CurrentHealth)
	game.Frame.Events.OnPlayerHealthChange(game.LocalPlayerEntity, change, health.GetMaxHealth(game.Frame.Quantum, game.LocalPlayerEntity), health.CurrentHealth, Quantum.False, Quantum.False)
})

btn2 = cui.Button('Show Health', func(){
	
	label = cui.TrackValue(func(){
		if(game.Frame.Has("Health", game.LocalPlayerEntity))
			game.Frame.Get("Health", game.LocalPlayerEntity).CurrentHealth
		else
			cui.Close("Health")
	})
	
	w = cui.Window("Health", label, true)

})

btn3 = cui.Button('Kill', func(){
	game.Frame.Signals.ApplyDamage(Native.New("DamageInfo",("Receiver": game.LocalPlayerEntity,"Damage": Quantum.ToFP(100000))))
})

cui.Close("Health Test")
w = cui.Window("Health Test", cui.Horizontal((btn1, btn2, btn3)), true)
